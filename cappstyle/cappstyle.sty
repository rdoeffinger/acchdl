%  cappstyle.sty
% *****************************************************************************
%
%                LaTeX style for diploma thesis at CAPP
%
%  Original author: Christian Lippolt
%  Additions and extensions by: Fabian Nowak
% *****************************************************************************
%
%
\def\fileversion{1.0}
\def\filedate{2006/18/03}
\ProvidesPackage{cappstyle}[2006/18/03 Version 1]
\typeout{Package: cappstyle\space\filedate\space v\fileversion}
\typeout{... Latex Environment Definitions for Thesis at CAPP}
\ProcessOptions
\input{unilogo}

\NeedsTeXFormat{LaTeX2e}
\RequirePackage{eso-pic}
\usepackage{type1cm}

%\usepackage[german]{babel}
\usepackage[latin9]{inputenc}
\usepackage{url}

% Change me: Studienarbeit oder Diplomarbeit, Name, Titel
\usepackage[pdftex,pdftitle={Studienarbeit},pdfauthor={Fred der Metzger},pdfsubject={Titel der Arbeit}]{hyperref}

\usepackage{graphicx}
\usepackage{color}

%\usepackage{bibgerm}

\usepackage{threeparttable}
\usepackage{tabularx}

\usepackage{fancyhdr}

% with this we ensure that the chapter and section
% headings are in lowercase, bold.
\renewcommand{\chaptermark}[1]{\markboth{#1}{}}
\renewcommand{\sectionmark}[1]{\markright{\thesection\ #1}}

% make space for the additional line in header
\addtolength{\headheight}{0.5pt} 

\fancypagestyle{plain}{
   \fancyhead{} % get rid of headers on plain pages
   \renewcommand{\headrulewidth}{0pt}
}

\fancypagestyle{myfancy}{
	% place rightmark, i.e. section, on right top on righthanded odd pages
	\fancyhead[RO]{\bfseries\nouppercase\rightmark}
	% place lefttmark, i.e. chapter, on left top on lefthanded even pages
	\fancyhead[LE]{\bfseries\nouppercase\leftmark}
	% on both left odd and right even pages place page number in center
	\fancyfoot[LE,RO]{\centering\thepage}
	% create a 0.5pt line below the chapter/section title ...
	\renewcommand{\headrulewidth}{0.5pt}
	% ... and in front of the title page
	\renewcommand{\footrulewidth}{0.5pt}
}

% Have paragraphs be separated by 1.5 lines
\setlength{\parskip}{1.5ex}

% Set line spacing to 1.3
\renewcommand{\baselinestretch}{1.3}

% set indent at beginning of paragraph to 0
\setlength{\parindent}{0em}

\newcommand{\mb}[1]{\mbox{\boldmath$#1$}}
%
% *****  title page for diploma thesis at CAPP  *****
%
%\capptitle{Diplom/Studienarbeit}
%         {work number}
%         {title of thesis}
%         {author name}
%         {supervisor name}
%         {location, date for frontpage}
%         {address}
\newcommand{\capptitle}[8]{
    \vspace*{4cm}
    \hspace*{0.8cm}
    \parbox{\linewidth} {
        \begin{center}    
            \hspace*{-0.3cm}\rule{1.0\linewidth}{1mm}\\*[-0.15cm]
            \hspace*{-0.3cm}\rule{1.0\linewidth}{0.3mm}\\*[1.5cm]
            \begin{huge}
                \bfseries #3\\
            \end{huge}
            \vspace*{1.3cm}
            \hspace*{-0.3cm}\rule{1.0\linewidth}{0.3mm}\\*[-0.11cm]
            \hspace*{-0.3cm}\rule{1.0\linewidth}{1mm}\\*[2.5cm]
            \LARGE
            \hspace*{-0.3cm}
            \bfseries #4
        \end{center}
    }
    \begin{titlepage}

        \titlehead{
        	\sffamily
        	\vspace*{-50pt}
        	\hspace*{0.5cm}
        	\begin{minipage}{16.2cm}
	            \centering
	            \begin{tabular}{ @{} l @{\hspace{3mm}} l @{\hspace{3mm}} | @{\hspace{3mm}} l @{} }
	            		%
	                \parbox[c]{1.8cm}{
	                    \centering
	                    \includegraphics[viewport=272 395 325 447,clip,scale=1]{unika.pdf}
	                } 
	                & 
	                \parbox[c]{6.3cm}{
		                \Large Universit\"at Karlsruhe (TH) \\
		                \small Forschungsuniversit\"at $\cdot$  gegr\"undet 1825
		            }
		            &
		            \parbox[c]{6.8cm}{
		                \large Institut f\"ur Technische Informatik \\[2pt]
		                \normalsize % Lehrstuhl f\"ur Rechnerarchitektur und Parallelverarbeitung \\[2pt]
		                Prof. Dr. rer. nat. Wolfgang Karl
		            }
		        \end{tabular} \\ [2mm]
		        \hrule
	        \end{minipage}
        }
        \subject{\vspace*{1cm}\hspace*{1cm}\begin{minipage}{\textwidth}\begin{center}#1\end{center}\end{minipage}}
        \title{\vspace*{0cm}\hspace*{1cm}\begin{minipage}{\textwidth}\begin{center}#3\end{center}\end{minipage}}
        \author{\vspace*{1.4cm}\hspace*{1cm}\begin{minipage}{\textwidth}\begin{center}\large Vorgelegt von\\ \Large #4\end{center}\end{minipage}}
        \date{\vspace*{-0.8cm}\hspace*{1cm}\begin{minipage}{\textwidth}\begin{center} \large im #6\end{center}\end{minipage}}
        \publishers{\vspace*{1.4cm}\hspace*{1cm}\begin{minipage}{\textwidth}\begin{center}\large Aufgabensteller:\\ \Large #8\\[1.4cm] \large Betreuer:\\ \Large #5\\[1.4cm]\end{center}\end{minipage}}
		
        \uppertitleback{#1 #2 am\\
                    Institut für Technische Informatik\\
                    Lehrstuhl für Rechnerarchitektur und Parallelverarbeitung\\
                    Thema: #3\\
                    Autor: #4}
        \lowertitleback{#7}
    \end{titlepage}
    \maketitle
}

%
% *******************************************************
% Legal clause.
%
% \cappclause{location, date}
%          {author name}
\newcommand{\cappclause}[2]{
    \thispagestyle{empty}
    \ 
    \vfill
    
    Ich versichere hiermit wahrheitsgemäß, die Arbeit bis auf die dem 
    Aufgabensteller bereits bekannte Hilfe selbständig angefertigt, alle
    benutzten Hilfsmittel vollständig und genau angegeben und alles kenntlich
    gemacht zu haben, was aus Arbeiten anderer unverändert oder mit
    Abänderung entnommen wurde.\\
    
    \begin{center}
        \raggedright #2\\
        \vspace*{-2ex}
        \dotfill\\
        Ort, Datum \hfill (#1)\\
    \end{center}
}

\renewcommand{\baselinestretch}{1.0}
